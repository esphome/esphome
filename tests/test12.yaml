---
# copy of test5.yaml configured to build on IDF 5
esphome:
  name: test12
  build_path: build/test12
  project:
    name: esphome.test12_project
    version: "1.0.0"

esp32:
  board: esp32-s3-devkitc-1
  variant: esp32s3
  framework:
    type: esp-idf
    # Required to achieve sufficient PSRAM bandwidth
    sdkconfig_options:
      CONFIG_ESP32S3_DEFAULT_CPU_FREQ_240: y
      CONFIG_ESP32S3_DATA_CACHE_64KB: y
      CONFIG_SPIRAM_FETCH_INSTRUCTIONS: y
      CONFIG_SPIRAM_RODATA: y

wifi:
  networks:
    - ssid: "MySSID"
      password: "password1"
      manual_ip:
        static_ip: 192.168.1.23
        gateway: 192.168.1.1
        subnet: 255.255.255.0

network:
  enable_ipv6: true

api:

ota:

logger:

debug:

psram:
  mode: octal
  speed: 80MHz

output:
  - platform: ledc
    pin:
      number: GPIO45
      ignore_strapping_warning: true
    id: ledc_gpio4
    frequency: 100Hz

light:
  - platform: monochromatic
    output: ledc_gpio4
    name: Display Backlight
    id: disp_bl
    restore_mode: ALWAYS_ON

spi:
  - id: lcd_spi
    clk_pin: 41
    mosi_pin: 48

i2c:
  sda: 39
  scl: 40
  scan: false
  id: bus_a

# I/O expander. Touchscreen RESET and INTERRUPT are not used.
pca9554:
  - id: p_c_a
    pin_count: 16
    address: 0x20

display:
  - platform: st7701s
    spi_mode: MODE3
    color_order: RGB
    dimensions:
      width: 480
      height: 480
    invert_colors: true
    transform:
      mirror_x: true
      mirror_y: true
    cs_pin:
      pca9554: p_c_a
      number: 4
    reset_pin:
      pca9554: p_c_a
      number: 5
    de_pin: 18
    hsync_pin: 16
    vsync_pin: 17
    pclk_pin: 21
    init_sequence: 1
    data_pins:
      - number: 0
        ignore_strapping_warning: true
      - 1
      - 2
      - number: 3
        ignore_strapping_warning: true
      - 4
      - 5
      - 6
      - 7
      - 8
      - 9
      - 10
      - 11
      - 12
      - 13
      - 14
      - 15
